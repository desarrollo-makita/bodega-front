<h2 mat-dialog-title class="dialog-title">ðŸ”„ Reconteos</h2>

<mat-dialog-content class="dialog-content">
  <form [formGroup]="almacenamientoForm" (ngSubmit)="onConfirm()">
    
    <!-- Mensaje principal -->
    <div class="mensaje-container">
      <p class="mensaje-principal">
        {{ data.mensaje }}
      </p>
    </div>

    <!-- Switch Sumar Almacenamiento -->
    <div class="switch-container">
      <label class="label-bold">Sumar Almacenamiento</label>
      <label class="switch">
        <input 
          type="checkbox" 
          [checked]="almacenamiento === 'S'" 
          name="almacenamiento" 
          (change)="onToggleAlmacenamiento($event)">
        <span class="slider round"></span>
      </label>
    </div>

    <p class="switch-hint">
      * Si activas esta opciÃ³n, los items en almacenamiento serÃ¡n sumados al reconteo. Si no, solo se contarÃ¡ lo nuevo ingresado.
    </p>
    <div *ngIf="isLoading" id="loader">
      <img src="../../../assets/img/loader-preview.svg" alt="loading" />
    </div>

    <!-- Datos estadÃ­sticos -->
    <div *ngIf="showInfoAlmacenamiento" class="stats-card">
      <div class="stat-item">
        <span class="stat-label">ðŸ“¦ Cantidad de unidades:</span>
        <span class="stat-value">{{ cantidadUnitaria }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">ðŸ“Š Items en almacenamiento:</span>
        <span class="stat-value">{{ totalItems }}</span>
      </div>
    </div>


    <div class="reconteo-button-wrapper">
      <button type="submit" class="reconteo-button">
        âœ… Ir a reconteo
      </button>
    </div>

  </form>
</mat-dialog-content>
